<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HyperionRP - Serveur Minecraft</title>
 <link rel="icon" type="image/favicon.ico">
</head>
<body id="accueil">

  <!-- Menu de navigation fixe -->
  <nav class="nav-fixe">
    <a href="#accueil">ğŸ  Accueil</a>
    <a href="#staff">ğŸ‘‘ Staff</a>
    <a href="#boutique">ğŸ›ï¸ Boutique</a>
    <a href="#status">ğŸŸ¢ Statut</a>
    <a href="#recrutement">ğŸ“‹ Recrutement</a>
    <a href="panier.html" class="btn-panier">ğŸ›’ Panier <span id="cart-count" class="cart-badge">0</span></a>
  </nav>

  <header>
    <img src="banniere.png" alt="BanniÃ¨re HyperionRP" class="banner" />
    <h1>HyperionRP</h1>
    <p class="tagline">Plonge dans un monde oÃ¹ chaque joueur Ã©crit sa propre histoire â€” bienvenue sur HyperionRP</p>
    <div class="buttons">
      <button onclick="copyIP()">ğŸ“‹ Copier lâ€™IP</button>
      <a href="https://discord.gg/fgDnGahS" target="_blank"><button>ğŸ’¬ Rejoindre le Discord</button></a>
    </div>
  </header>

  <!-- Section Staff -->
  <section id="staff" class="staff-section">
    <h2>ğŸ‘‘ L'Ã‰quipe HyperionRP</h2>
    <div class="staff-cards">
      <div class="staff-card">
        <img src="https://mc-heads.net/avatar/mz_dragon" alt="mz_dragon">
        <h3>mz_dragon <span class="badge">GÃ©rant Staff</span></h3>
        <p>Responsable de la gestion et de l'organisation du serveur.</p>
      </div>
      <div class="staff-card">
        <img src="https://mc-heads.net/avatar/tatane" alt="tatane">
        <h3>tatane <span class="badge">Aide DÃ©veloppeur</span></h3>
        <p>Assiste dans le dÃ©veloppement et les correctifs techniques.</p>
      </div>
      <div class="staff-card">
        <img src="https://mc-heads.net/avatar/le%20chat%20fumeur" alt="le chat fumeur">
        <h3>le chat fumeur <span class="badge">Aide DÃ©veloppeur</span></h3>
        <p>Apporte son soutien dans la configuration et les scripts RP.</p>
      </div>
      <div class="staff-card">
        <img src="https://mc-heads.net/avatar/matouchima" alt="matouchima">
        <h3>matouchima <span class="badge">Grand Fondateur</span></h3>
        <p>CrÃ©ateur principal du projet HyperionRP.</p>
      </div>
    </div>
  </section>

  <!-- Section Boutique -->
  <section id="boutique" class="boutique">
    <h2>ğŸŒŸ Boutique HyperionRP</h2>
    <div class="produits">
      <div class="carte-produit">
        <h3>Grade VIP</h3>
        <p>AccÃ¨s Ã  des privilÃ¨ges exclusifs, salon Discord privÃ©, effets cosmiques.</p>
        <span class="prix">4.99â‚¬</span>
        <a href="#" class="bouton-achat" onclick="ajouterAuPanier('Grade VIP', 4.99, false); return false;">Ajouter au panier</a>
      </div>
      <div class="carte-produit">
        <h3>Kit de dÃ©part</h3>
        <p>Tout ce quâ€™il faut pour bien commencer lâ€™aventure RPâ€¯!</p>
        <span class="prix">2.50â‚¬</span>
        <a href="#" class="bouton-achat" onclick="ajouterAuPanier('Kit de dÃ©part', 2.50, false); return false;">Ajouter au panier</a>
      </div>
      <div class="carte-produit">
        <h3>Achat dâ€™argent virtuel</h3>
        <p>Obtiens de la monnaie en jeu pour acheter des items exclusifs.</p>
        <span class="prix">5.00â‚¬</span>
        <a href="#" class="bouton-achat" onclick="ajouterAuPanier('Achat dâ€™argent virtuel', 5.00, false); return false;">Ajouter au panier</a>
      </div>
      <div class="carte-produit">
        <h3>Don Libre</h3>
        <p>Soutiens le serveur et la communautÃ©â€¯!</p>
        <span class="prix">Montant libre</span>
        <a href="#" class="bouton-achat" onclick="ajouterAuPanier('Don Libre', 0, true); return false;">Ajouter au panier</a>
      </div>
    </div>
    <p class="avertissement">âš ï¸ Avertissement : les dons libres ne sont pas remboursables.</p>
  </section>

  <!-- Section Statut du serveur -->
  <section id="status" class="status-section">
    <h2>ğŸŸ¢ Statut du Serveur</h2>
    <p id="server-status">Chargement du statut...</p>
  </section>

  <!-- Section Recrutement -->
  <section id="recrutement" class="recrutement">
    <h2>ğŸ“‹ Recrutement Staff HyperionRP</h2>
    <p>Remplis ce formulaire Google si tu souhaites rejoindre notre Ã©quipe !</p>

    <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSck46po1bWV6uiB4I4J8fyqy36n4W1wVD58dL1YIvkUDzQL6A/viewform?embedded=true"
            width="100%" height="800" frameborder="0" marginheight="0" marginwidth="0">
      Chargementâ€¦
    </iframe>
  </section>

  <footer>
    <p>&copy; 2025 HyperionRP. Tous droits rÃ©servÃ©s.</p>
  </footer>

  <script>
    // ==== Panier utilitaires ====
    function getPanier() {
      try { return JSON.parse(localStorage.getItem('panier') || '[]'); }
      catch(e){ return []; }
    }
    function savePanier(p) {
      localStorage.setItem('panier', JSON.stringify(p));
      updateCartCount();
    }
    function updateCartCount() {
      const p = getPanier();
      const count = p.reduce((s, it) => s + (it.quantite || 1), 0);
      const badge = document.getElementById('cart-count');
      if (badge) badge.textContent = count;
    }
    document.addEventListener('DOMContentLoaded', updateCartCount);

    function ajouterAuPanier(nom, prix, isDonLibre) {
      let p = getPanier();
      if (isDonLibre) {
        let montant = prompt("Quel montant souhaitez-vous donner ? (en â‚¬)", "5");
        if (!montant) return;
        montant = parseFloat(montant.replace(',', '.'));
        if (isNaN(montant) || montant <= 0) return;
        prix = montant;
        p.push({ nom, prix, quantite: 1, don: true });
      } else {
        const idx = p.findIndex(item => item.nom === nom && !item.don && Number(item.prix) === Number(prix));
        if (idx !== -1) {
          p[idx].quantite = (p[idx].quantite || 1) + 1;
        } else {
          p.push({ nom, prix, quantite: 1 });
        }
      }
      savePanier(p);
      return false;
    }

    // ==== Divers ====
    function copyIP() {
      navigator.clipboard.writeText("hyperionrp.aternos.me");
      alert("IP copiÃ©e : hyperionrp.aternos.me");
    }

    // Statut serveur
    async function fetchStatus() {
      try {
        const res = await fetch("https://api.mcsrvstat.us/2/hyperionrp.aternos.me");
        const data = await res.json();
        if (data.online) {
          document.getElementById("server-status").innerText =
            `âœ… En ligne â€” ${data.players.online}/${data.players.max} joueurs connectÃ©s`;
        } else {
          document.getElementById("server-status").innerText = "âŒ Serveur hors-ligne";
        }
      } catch (e) {
        document.getElementById("server-status").innerText = "âš ï¸ Impossible de rÃ©cupÃ©rer le statut";
      }
    }
    fetchStatus();
    setInterval(fetchStatus, 30000);
  </script>
</body>
</html>
