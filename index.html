<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HyperionRP - Serveur Minecraft</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body id="accueil">

  <!-- Menu de navigation fixe -->
  <nav class="nav-fixe">
    <a href="#accueil">🏠 Accueil</a>
    <a href="#staff">👑 Staff</a>
    <a href="#boutique">🛍️ Boutique</a>
    <a href="#recrutement">📋 Recrutement</a>
  </nav>

  <header>
    <img src="banniere.png" alt="Bannière HyperionRP" class="banner" />
    <h1>HyperionRP</h1>
    <p class="tagline">Plonge dans un monde où chaque joueur écrit sa propre histoire — bienvenue sur HyperionRP</p>
    <div class="buttons">
      <button onclick="copyIP()">📋 Copier l’IP</button>
      <a href="https://discord.gg/fgDnGahS" target="_blank"><button>💬 Rejoindre le Discord</button></a>
    </div>
  </header>

  <!-- Section Staff -->
  <section id="staff" class="staff-section">
    <h2>👑 L'Équipe HyperionRP</h2>
    <div class="staff-cards">
      <div class="staff-card">
        <img src="https://mc-heads.net/avatar/mz_dragon" alt="mz_dragon">
        <h3>mz_dragon <span class="badge">Gérant Staff</span></h3>
        <p>Responsable de la gestion et de l'organisation du serveur.</p>
      </div>
      <div class="staff-card">
        <img src="https://mc-heads.net/avatar/tatane" alt="tatane">
        <h3>tatane <span class="badge">Aide Développeur</span></h3>
        <p>Assiste dans le développement et les correctifs techniques.</p>
      </div>
      <div class="staff-card">
        <img src="https://mc-heads.net/avatar/le%20chat%20fumeur" alt="le chat fumeur">
        <h3>le chat fumeur <span class="badge">Aide Développeur</span></h3>
        <p>Apporte son soutien dans la configuration et les scripts RP.</p>
      </div>
    </div>
  </section>

  <!-- Section Boutique avec panier avancé -->
  <section id="boutique" class="boutique">
    <h2>🌟 Boutique HyperionRP</h2>
    <div class="produits">
      <div class="carte-produit">
        <h3>Grade VIP</h3>
        <p>Accès à des privilèges exclusifs, salon Discord privé, effets cosmiques.</p>
        <span class="prix">4.99€</span>
        <a href="#" class="bouton-achat" onclick="ajouterAuPanier('Grade VIP', 4.99, false); return false;">Ajouter au panier</a>
      </div>
      <div class="carte-produit">
        <h3>Kit de départ</h3>
        <p>Tout ce qu’il faut pour bien commencer l’aventure RP !</p>
        <span class="prix">2.50€</span>
        <a href="#" class="bouton-achat" onclick="ajouterAuPanier('Kit de départ', 2.50, false); return false;">Ajouter au panier</a>
      </div>
      <div class="carte-produit">
        <h3>Achat d’argent virtuel</h3>
        <p>Obtiens de la monnaie en jeu pour acheter des items exclusifs.</p>
        <span class="prix">5.00€</span>
        <a href="#" class="bouton-achat" onclick="ajouterAuPanier('Achat d’argent virtuel', 5.00, false); return false;">Ajouter au panier</a>
      </div>
      <div class="carte-produit">
        <h3>Don Libre</h3>
        <p>Soutiens le serveur et la communauté !</p>
        <span class="prix">Montant libre</span>
        <a href="#" class="bouton-achat" onclick="ajouterAuPanier('Don Libre', 0, true); return false;">Ajouter au panier</a>
      </div>
    </div>
    <p class="avertissement">⚠️ Avertissement : les dons libres ne sont pas remboursables.</p>
  </section>

  <!-- Panier flottant -->
  <div id="panier" class="panier">
    <span id="panier-count">0</span> article(s) – <span id="panier-total">0.00€</span>
    <button onclick="afficherPanier()">Voir le panier</button>
  </div>

  <!-- Modale panier avancé -->
  <div id="modal-panier" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>🛒 Mon panier</h3>
      <ul id="liste-panier"></ul>
      <p>Total : <span id="modal-total">0.00€</span></p>
      <button onclick="validerPanier()">Valider</button>
      <button onclick="fermerPanier()">Fermer</button>
      <p id="confirmation" style="color:#27ae60;display:none;">Merci pour votre commande !</p>
    </div>
  </div>

  <!-- Section Recrutement -->
  <section id="recrutement" class="recrutement">
    <h2>📋 Formulaire de Recrutement</h2>
    <form action="https://formspree.io/f/yourID" method="POST" class="formulaire">
      <label>Nom Minecraft <input type="text" name="pseudo" required> </label>
      <label>Âge <input type="number" name="age" required> </label>
      <label>Poste souhaité
        <select name="poste" required>
          <option value="modérateur">Modérateur</option>
          <option value="animateur">Animateur</option>
          <option value="développeur">Développeur</option>
          <option value="autre">Autre</option>
        </select>
      </label>
      <label>Pourquoi veux-tu rejoindre le staff ?
        <textarea name="motivation" rows="4" required></textarea>
      </label>
      <button type="submit">Envoyer la candidature</button>
    </form>
  </section>

  <footer>
    <p>&copy; 2025 HyperionRP. Tous droits réservés.</p>
  </footer>

  <script>
    function copyIP() {
      navigator.clipboard.writeText("hyperionrp.aternos.me");
      alert("IP copiée : hyperionrp.aternos.me");
    }

    // Panier avancé
    let panier = [];

    function ajouterAuPanier(nom, prix, isDonLibre) {
      let quantite = 1;
      if (isDonLibre) {
        let montant = prompt("Quel montant souhaitez-vous donner ? (en €)", "5");
        if (!montant) return;
        montant = parseFloat(montant.replace(',', '.'));
        if (isNaN(montant) || montant <= 0) return;
        prix = montant;
      }
      // Cherche si le produit existe déjà (hors Don Libre)
      let index = panier.findIndex(item => item.nom === nom && (!isDonLibre));
      if (index !== -1 && !isDonLibre) {
        panier[index].quantite += 1;
      } else {
        panier.push({ nom, prix, quantite, isDonLibre });
      }
      majPanier();
    }

    function majPanier() {
      let count = panier.reduce((sum, item) => sum + item.quantite, 0);
      document.getElementById('panier-count').innerText = count;
      let total = panier.reduce((sum, item) => sum + item.prix * item.quantite, 0);
      document.getElementById('panier-total').innerText = total.toFixed(2) + "€";
    }

    function afficherPanier() {
      document.getElementById('modal-panier').style.display = 'flex';
      let liste = document.getElementById('liste-panier');
      liste.innerHTML = '';
      panier.forEach((item, i) => {
        let li = document.createElement('li');
        li.innerHTML = `
          <strong>${item.nom}</strong>
          – <input type="number" min="1" value="${item.quantite}" style="width:40px;" onchange="changerQuantite(${i}, this.value)">
          × ${item.prix.toFixed(2)}€
          <button onclick="supprimerProduit(${i})">Supprimer</button>
        `;
        liste.appendChild(li);
      });
      document.getElementById('modal-total').innerText = panier.reduce((sum, item) => sum + item.prix * item.quantite, 0).toFixed(2) + "€";
      document.getElementById('confirmation').style.display = "none";
    }

    function fermerPanier() {
      document.getElementById('modal-panier').style.display = 'none';
    }

    function changerQuantite(index, val) {
      val = parseInt(val);
      if (isNaN(val) || val < 1) val = 1;
      panier[index].quantite = val;
      majPanier();
      afficherPanier();
    }

    function supprimerProduit(index) {
      panier.splice(index, 1);
      majPanier();
      afficherPanier();
    }

    function validerPanier() {
      document.getElementById('confirmation').style.display = "block";
      panier = [];
      majPanier();
      setTimeout(fermerPanier, 1500);
    }
  </script>
</body>
</html>
